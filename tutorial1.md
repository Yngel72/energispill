### @activities true

```template

info.onCountdownEnd(function () {
    if (info.score() < 20) {
        game.over(false, effects.melt)
    } else {
        game.over(true, effects.confetti)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    otherSprite.destroy()
    info.changeScoreBy(1)
})
let energi: Sprite = null
let mySprite = sprites.create(img`
    . f f f . f f f f . f f f . 
    f f f f f c c c c f f f f f 
    f f f f b c c c c b f f f f 
    f f f c 3 c c c c 3 c f f f 
    . f 3 3 c c c c c c 3 3 f . 
    . f c c c c 4 4 c c c c f . 
    . f f c c 4 4 4 4 c c f f . 
    . f f f b f 4 4 f b f f f . 
    . f f 4 1 f d d f 1 4 f f . 
    . . f f d d d d d d f f . . 
    . . e f e 4 4 4 4 e f e . . 
    . e 4 f b 3 3 3 3 b f 4 e . 
    . 4 d f 3 3 3 3 3 3 c d 4 . 
    . 4 4 f 6 6 6 6 6 6 f 4 4 . 
    . . . . f f f f f f . . . . 
    . . . . f f . . f f . . . . 
    `, SpriteKind.Player)
tiles.setTilemap(tiles.createTilemap(hex`3200320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000010101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000101010101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000101010101010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000010101010101010101010101010101010101010101000000000000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000101010101010101010101010101010101010101010100000000000000000000000000000000000000000000000000000000010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010101000000000000000000000000000000000000000000000000000000000101010101010101010101010101010101010101010100000000000000000000000000000000000000000000000000000000010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000101010101010101010101010101010101010101010101000000000000000000000000000000000000000000000000000000010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010101000202020000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010202020202020200000000000000000000000000000000000000000000000101010101010101010101010101010101010202020202020202020202000000000000000000000000000000000000000000000101010101010101010101010101010101020202020202020202020202000000000000000000000000000000000000000000000101010101010101010101010100000002020202020202020202020202000000000000000000000000000000000000000000010101010101010101000000000000020202020202020202020202020202020000000000000000000000000000000000000000000100000000000000000000000002020202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000020202020202020202020202020202020202020202020200000000000000000000000000000000000000000000000000000002020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000002020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000020202020202020202020202020202020202020202020200000000000000000000000000000000000000000000000000000000020202020202020202020202020202020202020202020200000000000000000000000000000000000000000000000000000002020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000202020202020202020202020202020202020202020200000000000000000000000000000000000000000000000000000000020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000020202020202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`, img`
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
..................................................
`, [myTiles.transparency16,sprites.castle.tilePath5,sprites.castle.tileGrass1], TileScale.Sixteen))
scene.setBackgroundColor(9)
if (Math.percentChance(20)) {
    tiles.placeOnRandomTile(mySprite, sprites.castle.tilePath5)
} else {
    tiles.placeOnRandomTile(mySprite, sprites.castle.tileGrass1)
}
controller.moveSprite(mySprite)
scene.cameraFollowSprite(mySprite)
for (let index = 0; index < 100; index++) {
    energi = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 5 5 5 5 . . . 
        . . . . . . . 5 5 5 5 5 5 . . . 
        . . . . . . 5 5 5 5 5 5 f . . . 
        . . . . . . 5 5 5 5 5 f . . . . 
        . . . . . 5 5 5 5 5 f . . . . . 
        . . . . . 5 5 5 5 f . . . . . . 
        . . . . 5 5 5 5 5 5 5 5 5 . . . 
        . . . . f f f f 5 5 5 5 5 . . . 
        . . . . . . . . 5 5 5 5 f . . . 
        . . . . . . . . 5 5 5 f . . . . 
        . . . . . . . 5 5 5 f . . . . . 
        . . . . . . 5 5 5 f . . . . . . 
        . . . . . 5 5 5 f . . . . . . . 
        . . . . . 5 f f . . . . . . . . 
        . . . . . f . . . . . . . . . . 
        `, SpriteKind.Food)
    if (Math.percentChance(80)) {
        tiles.placeOnRandomTile(energi, sprites.castle.tilePath5)
    } else {
        tiles.placeOnRandomTile(energi, sprites.castle.tileGrass1)
    }
}
info.startCountdown(10)

```
# Lag en fornybar energikilde
## introduksjon
### introduction @unplugged

Vi fortsetter der vi slapp. Nå skal vi legge til en fornybar energikilde. La oss legge til havvind!

### Step 2
Det første vi trenger er en ny ``||loops.repeat loop||`` for å fordele den nye energien på kartet vårt.
Hent en ny ``||loops.Repeat loop||`` og legg den inn i koden din under den gamle energifordelingsløkken. Endre antall repetisjoner til 200.
 

```blocks

let energi: Sprite = null
tiles.setTilemap(tilemap`level1`)
scene.setBackgroundColor(9)
let mySprite = sprites.create(img`
    . f f f . f f f f . f f f . 
    f f f f f c c c c f f f f f 
    f f f f b c c c c b f f f f 
    f f f c 3 c c c c 3 c f f f 
    . f 3 3 c c c c c c 3 3 f . 
    . f c c c c 4 4 c c c c f . 
    . f f c c 4 4 4 4 c c f f . 
    . f f f b f 4 4 f b f f f . 
    . f f 4 1 f d d f 1 4 f f . 
    . . f f d d d d d d f f . . 
    . . e f e 4 4 4 4 e f e . . 
    . e 4 f b 3 3 3 3 b f 4 e . 
    . 4 d f 3 3 3 3 3 3 c d 4 . 
    . 4 4 f 6 6 6 6 6 6 f 4 4 . 
    . . . . f f f f f f . . . . 
    . . . . f f . . f f . . . . 
    `, SpriteKind.Player)
tiles.placeOnRandomTile(mySprite, sprites.castle.tilePath5)
controller.moveSprite(mySprite)
scene.cameraFollowSprite(mySprite)
for (let index = 0; index < 100; index++) {
    energi = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . f f f f . . . . . 
        . . . . . . f f 5 5 f . . . . . 
        . . . . . . f 5 5 f f . . . . . 
        . . . . . f f 5 f f . . . . . . 
        . . . . f f 5 5 f f f . . . . . 
        . . . . f 5 5 5 5 5 f . . . . . 
        . . . . f f f f 5 5 f . . . . . 
        . . . . . . f 5 5 f f . . . . . 
        . . . . . f f 5 f f . . . . . . 
        . . . . . f 5 f f . . . . . . . 
        . . . . . f f f . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    if (score>20) {
     tiles.placeOnRandomTile(energi, sprites.castle.tilePath5)   
    } else {
     tiles.placeOnRandomTile(energi, sprites.castle.tileGrass1)   
    }
    
}
for (let index = 0; index < 200; index++) {   
}
info.startCountdown(10)

```

### Step 3

Inni den nye ``||loops.repeat ||`` blokken trenger vi nå en ny ``||sprite.set mySprite to...||`` blokk fra
 ``||Sprites.Sprites||``-menyen. Klikk på ``||sprites.mySprite2||`` og lag en ny variabel. Kall den gjerne "havvind". Klikk på ``||Sprites.kind||`` og lag en ny type sprite du kan kalle "Fornybar". Klikk på det grå kvadratet og tegn den nye havvindenergien din.

```blocks

let energi: Sprite = null
tiles.setTilemap(tilemap`level1`)
scene.setBackgroundColor(9)
let mySprite = sprites.create(img`
    . f f f . f f f f . f f f . 
    f f f f f c c c c f f f f f 
    f f f f b c c c c b f f f f 
    f f f c 3 c c c c 3 c f f f 
    . f 3 3 c c c c c c 3 3 f . 
    . f c c c c 4 4 c c c c f . 
    . f f c c 4 4 4 4 c c f f . 
    . f f f b f 4 4 f b f f f . 
    . f f 4 1 f d d f 1 4 f f . 
    . . f f d d d d d d f f . . 
    . . e f e 4 4 4 4 e f e . . 
    . e 4 f b 3 3 3 3 b f 4 e . 
    . 4 d f 3 3 3 3 3 3 c d 4 . 
    . 4 4 f 6 6 6 6 6 6 f 4 4 . 
    . . . . f f f f f f . . . . 
    . . . . f f . . f f . . . . 
    `, SpriteKind.Player)
tiles.placeOnRandomTile(mySprite, sprites.castle.tilePath5)
controller.moveSprite(mySprite)
scene.cameraFollowSprite(mySprite)
for (let index = 0; index < 100; index++) {
    energi = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . f f f f . . . . . 
        . . . . . . f f 5 5 f . . . . . 
        . . . . . . f 5 5 f f . . . . . 
        . . . . . f f 5 f f . . . . . . 
        . . . . f f 5 5 f f f . . . . . 
        . . . . f 5 5 5 5 5 f . . . . . 
        . . . . f f f f 5 5 f . . . . . 
        . . . . . . f 5 5 f f . . . . . 
        . . . . . f f 5 f f . . . . . . 
        . . . . . f 5 f f . . . . . . . 
        . . . . . f f f . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    if (score>20) {
     tiles.placeOnRandomTile(energi, sprites.castle.tilePath5)   
    } else {
     tiles.placeOnRandomTile(energi, sprites.castle.tileGrass1)   
    }
    
}
for (let index = 0; index < 200; index++) {
    havvind = sprites.create(img`
        . . . . . . . 1 8 8 8 1 8 8 . . 
        . . . . . . . 1 8 1 8 8 1 8 . . 
        . . . . . . . . 1 . 1 8 1 8 . . 
        . . . . . . . . . . 1 8 1 8 . . 
        . . . . . . . . . . 8 8 1 8 . . 
        1 8 8 8 8 8 8 8 8 8 8 1 1 8 . . 
        1 1 1 1 1 1 1 1 1 1 1 8 8 8 . . 
        . 1 8 8 8 8 8 8 8 8 8 8 1 1 . . 
        . . 1 1 1 1 1 1 1 1 1 1 . . . . 
        1 8 8 8 8 8 8 8 8 8 8 8 . . . . 
        1 1 1 1 1 1 1 1 1 1 1 8 8 . . . 
        1 8 8 8 8 8 8 8 8 . . 1 8 8 . . 
        1 1 1 1 1 1 1 1 8 8 . . 1 8 . . 
        . . . . . . . 1 8 8 . . 1 8 . . 
        . . . . . . . . 1 1 . 1 1 8 . . 
        . . . . . . . . . . 1 8 8 8 . . 
        `,Fornybar)
       
}
info.startCountdown(10)

```


### Step 4
Vi vil at ``||Sprites.havvind||`` skal dukke opp ute i havet. Hent en ``||scene.place energy on top of random ||``-blokk fra 
``||Scene.scene||``-menyen og plasser den inni ``||Loops.repeat||``-blokken. Endre ``||Sprites.mySprite2||`` til ``||Sprites.havvind||`` og la det grå kvadratet være tomt. Når vi ikke definerer en bestemt type tile, vil den nye energitypen dukke opp der det ikke er lagt noen tiles på kartet, altså ute i havet.

```blocks

let energi: Sprite = null
tiles.setTilemap(tilemap`level1`)
scene.setBackgroundColor(9)
let mySprite = sprites.create(img`
    . f f f . f f f f . f f f . 
    f f f f f c c c c f f f f f 
    f f f f b c c c c b f f f f 
    f f f c 3 c c c c 3 c f f f 
    . f 3 3 c c c c c c 3 3 f . 
    . f c c c c 4 4 c c c c f . 
    . f f c c 4 4 4 4 c c f f . 
    . f f f b f 4 4 f b f f f . 
    . f f 4 1 f d d f 1 4 f f . 
    . . f f d d d d d d f f . . 
    . . e f e 4 4 4 4 e f e . . 
    . e 4 f b 3 3 3 3 b f 4 e . 
    . 4 d f 3 3 3 3 3 3 c d 4 . 
    . 4 4 f 6 6 6 6 6 6 f 4 4 . 
    . . . . f f f f f f . . . . 
    . . . . f f . . f f . . . . 
    `, SpriteKind.Player)
tiles.placeOnRandomTile(mySprite, sprites.castle.tilePath5)
controller.moveSprite(mySprite)
scene.cameraFollowSprite(mySprite)
for (let index = 0; index < 100; index++) {
    energi = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . f f f f . . . . . 
        . . . . . . f f 5 5 f . . . . . 
        . . . . . . f 5 5 f f . . . . . 
        . . . . . f f 5 f f . . . . . . 
        . . . . f f 5 5 f f f . . . . . 
        . . . . f 5 5 5 5 5 f . . . . . 
        . . . . f f f f 5 5 f . . . . . 
        . . . . . . f 5 5 f f . . . . . 
        . . . . . f f 5 f f . . . . . . 
        . . . . . f 5 f f . . . . . . . 
        . . . . . f f f . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    if (score>20) {
     tiles.placeOnRandomTile(energi, sprites.castle.tilePath5)   
    } else {
     tiles.placeOnRandomTile(energi, sprites.castle.tileGrass1)   
    }
    
}
for (let index = 0; index < 200; index++) {
    havvind = sprites.create(img`
        . . . . . . . 1 8 8 8 1 8 8 . . 
        . . . . . . . 1 8 1 8 8 1 8 . . 
        . . . . . . . . 1 . 1 8 1 8 . . 
        . . . . . . . . . . 1 8 1 8 . . 
        . . . . . . . . . . 8 8 1 8 . . 
        1 8 8 8 8 8 8 8 8 8 8 1 1 8 . . 
        1 1 1 1 1 1 1 1 1 1 1 8 8 8 . . 
        . 1 8 8 8 8 8 8 8 8 8 8 1 1 . . 
        . . 1 1 1 1 1 1 1 1 1 1 . . . . 
        1 8 8 8 8 8 8 8 8 8 8 8 . . . . 
        1 1 1 1 1 1 1 1 1 1 1 8 8 . . . 
        1 8 8 8 8 8 8 8 8 . . 1 8 8 . . 
        1 1 1 1 1 1 1 1 8 8 . . 1 8 . . 
        . . . . . . . 1 8 8 . . 1 8 . . 
        . . . . . . . . 1 1 . 1 1 8 . . 
        . . . . . . . . . . 1 8 8 8 . . 
        `,Fornybar)
    tiles.placeOnRandomTile(havvind, assets.tile`tile0`)   
}
info.startCountdown(10)

```

### Step 5
Vi trenger en ny ``||Sprites.overlap||``-blokk for å fange den nye energitypen. hent en fra ``||Sprites.Sprites||``-menyen og plasser en ``||Info.change score by 1||``-blokk fra ``||Info.Info||``-menyen inni den.

```blocks
sprites.onOverlap(SpriteKind.Player, Fornybar, function (sprite, otherSprite) {
    info.changeScoreBy(1)
})
```

### Step 6
Siden den nye energitypen vår er fornybar, ønsker vi ikke å fjerne ``||Sprites.havvind||`` helt når vi overlapper. I stedet for å bruke en ``||Sprites.destroy otherSprite||``-blokk skal vi bruke en ``||Scene.Place mySprite on top of random||``-blokk for å få den fornybare energien til å gjenoppstå et tilfeldig sted i havet. Husk å dra den ovale ``||Sprite.otherSprite||`` til der det står ``||Sprite.mySprite2||``, endre kind til ``||sprite.Fornybar||`` og la det grå kvadratet være som det er.

```blocks

sprites.onOverlap(SpriteKind.Player, Fornybar, function (sprite, otherSprite) {
    tiles.placeOnRandomTile(otherSprite, assets.tile`tile0`)
    info.changeScoreBy(1)
})
```

### Step 7
Det var det hele! Nå kan du lage både fornybare og ikke-fornybare energikilder!  Når du har laget alle de energikildene du vil ha med, kan du gå videre til neste utfordring som er å animere spillfiguren din slik at den beveger seg litt mer realistisk.

<script src="https://makecode.com/gh-pages-embed.js"></script><script>makeCodeRender("{{ site.makecode.home_url }}", "{{ site.github.owner_name }}/{{ site.github.repository_name }}");</script>
